<!DOCTYPE html>
<html>
<head>
    <title>Driver App</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"></script>
    <style>
        body { background: #333; color: white; text-align: center; font-family: sans-serif; transition: 0.5s; }
        #status { font-size: 2.5rem; margin-top: 100px; }
    </style>
</head>
<body>
    <div id="status">DRIVER SYSTEM ACTIVE</div>
    <script>
        const client = new Paho.MQTT.Client("broker.hivemq.com", 8000, "driver_" + Math.random());
        
        client.connect({
            useSSL: true,
            onSuccess: () => { 
                console.log("Connected");
                client.subscribe("smart_bus_project/driver_alerts");
            }
        });

        client.onMessageArrived = (message) => {
            document.body.style.background = "red";
            document.getElementById('status').innerText = "PASSENGER WAITING!";
            window.speechSynthesis.speak(new SpeechSynthesisUtterance("New passenger request"));
        };
    </script>
</body>
</html>
